This document explains how the project was tested. Please see full [README.md file](        LINK!!!!!!!!!!!!!    ).

# Automated testing

## Validators

* [W3 HTML validator](https://validator.w3.org/) was used on all the html files. Since the templating language was used in the html files, and the W3 HTML validators does not recognise them, I used page source code instead. I made sure to get the source code in all the possible states of the webpage (e.g product with coulours vs without colours, message displayed, product on homepage marked to be on wishlist etc.). A few errors were caught this way: nested a tags, unclosed p elements and repeated id's. These mistakes were corrected and now the HTML code validates without errors. 

* [W3 CSS validator](https://jigsaw.w3.org/css-validator/) was used to check all the CSS files. No errors were found. 

### Unit tests

There is a total of 69 unit tests and they all pass. 

Additional, complementary manual test were conducted for each app and described in 'Manual testing' part of this document. 

#### About us app

The coverage for the about us app is 86%. All the python files written by me within the about us app have 100% coverage.

##### Views

Features tested:

* correct template is rendered for about us view
* delivery view takes user to the delivery section of the about page

#### Basket app

The coverage for the basket app is 96%. All the python files written by me within the basket app have 100% coverage except for the views.py file with 89% coverage.

The code that is not covered is validation for colour and quantity. The not covered validation is only needed if the user interacts with the website skipping its frontend, for example puts invalid colour (not hex) in the post request. Hower, with frontend this is impossible because the user chooses from displayed colours and, since it's a POST request, this is not sent via URL. For these reasons I thought testing this part was redundant. 


##### Models

Features tested:

* basket created correctly
* basket item created correctly
* basket item deleted if basket object being its foreign key is deleted

##### Views

Features tested:

* basket page rendered with correct template
* adding product with and without colours
* adding product as an authenticated and not authenticated user
* basket created for an authenticated user when adding item
* basket retrieved for an authenticated user when adding item and basket object for the user already existed
* adding product that already exists in the basket (increasing quantity) for both authenticated and not authenticated user
* redirecting to wishlist add view if 'Add to wishlist' button was clicked
* error message if user attempts to add a product that has colours without choosing a colour
* adjusting quantity in the basket as an authenticated and not authenticated user
* redirecting back to basket if the adjusted quantity is the same as the one already saved in the database
* deleting an item from the basket as an authenticated and not authenticated user
* raising 404 if the item being deleted does not exist (if it was typed as URL), as an authenticated and not authenticated user



#### Beauty test app

The coverage for the beauty test app is 94%. All the python files written by me within the beauty test app have 100% coverage.

##### Views

Features tested:

* correct templates are rendered for test questions and results
* form is not submitted if not all the questions are answered
* correct result is computed based on the user's answers
* result view returns a list of suggested products



#### Checkout app

The coverage for the checkout app is 99%. All the python files written by me within the checkout app have 100% coverage.

##### Models

Features tested:

* create an order object with autogenerated number (uuid) and autogenerated date and default total of 0
* order string method returns order number as a string
* create an order item with correctly assigned order, product and colour

##### Forms

Features tested:

* form is valid if all the required fields are filled
* form is not valid and returns an error if not all the required fields are filled

##### Views

* correct templates are rendered for checkout and checkout success views
* checkout view returns stripe details
* error message is displayed if the submitted form is not valid
* if authenticated or not authenticated user's basket is empty, stay in the basket view
* order saved in the database with together with basket total
* delivery details saved in profile object in the database if user checked the 'save' box
* on checkout success profile object is added to order object, so that order history can be retrieved
* on checkout success all the basket items are deleted if the user is authenticated, and if not - basket is deleted from session



#### Home app

The coverage for the home app is 94%. All the python files written by me within the home app have 100% coverage.

##### Views

Features tested:

* correct template rendered for home view
* home view returns 3 products for each season, with matching colours



#### Products app

The coverage for the products app is 99%. All the python files written by me within the product app have 100% coverage.

##### Models

Features tested:

* create a category, brand, colour and product object
* create a product object with correct many to many fields and foreign keys
* brand and category 'get_display_name' methods return the display name

##### Views

Features tested:

* correct template is rendered for product view
* product colours are correctly sorted according to the seasons they belong to
* correct template is rendered for search view
* correct product objects returned when searched by category or brand
* mesage error displayed if category or does not exists (in case it was written in the URL instead of clicking a link)
* correct products returned for searched phrase (searching in names and descriptions)
* if search phrase is an empty string (or spaces) a message appears informing user they should type a search phrase first
* products tuples in search results that contain item that is in th wishlist, contain True as the second value, and thos not on wishlist - False



#### Profiles app

The coverage for the profiles app is 98%. All the python files written by me within the profile app have 100% coverage.

##### Models

Features tested:

* profile is created when user object is created

##### Forms

Features tested:

* form is valid when created with all the mandatory fields
* if form is empty an error message appears

##### Views

Features tested:

* user is redirected to login page if tries to access the profile page without being authenticated
* correct template rendered for profile view
* delivery details are saved in the database correctly on update
* correct template rendered for orders history view
* orders query set passed in the context by order history view
* error message displayed if form is not valid

#### Wishlist app

The coverage for the wishlist app is 98%. All the python files written by me within the wishlist app have 100% coverage.

##### Models

Features tested:

* created wishlist item object has correct wishlist. product and colour foreign keys
* when wishlist is deleted, wishlist items belonging to it are deleted as well

##### Views

Features tested:

* user is redirected to login page if tries to access the wishlist page without being authenticated
* correct template rendered for wishlist view
* new wishlist item added correctly to the database
* if wishlist item exists already - message informing about it is displayed
* item correctly deleted from wishlist 
* 404 raised if an item that doesn't exists is attempted to be deleted